# Epic 10: 재미 요소 (Fun Features)

## Epic 정보

| 항목 | 내용 |
|------|------|
| Epic ID | EPIC-10 |
| Epic 명 | 재미 요소 모음 |
| 우선순위 | P2 (Nice to have) |
| 상태 | 대기 |
| 생성일 | 2025-12-15 |

---

## 목표

호구미터를 더 재미있고 친구들과 공유하고 싶은 앱으로 만들기 위한 다양한 재미 요소 추가.

---

## Task 목록

### 우선순위 높음 (구현 쉬움 + 효과 좋음)

| Task ID | 제목 | 난이도 | 설명 |
|---------|------|--------|------|
| TASK-10.1 | N빵 계산기 | ⭐ | 승객 수 설정, 1/N 자동 계산, 영수증에 표시 |
| TASK-10.2 | 택시기사 한마디 | ⭐ | 랜덤 재미있는 멘트 표시 |
| TASK-10.3 | 카카오톡/SNS 공유 | ⭐⭐ | 영수증 이미지 + 텍스트 공유 |

### 우선순위 중간 (재미 요소)

| Task ID | 제목 | 난이도 | 설명 |
|---------|------|--------|------|
| TASK-10.4 | 말 음성 효과 | ⭐⭐ | TTS로 "히힝~", 상황별 음성 |
| TASK-10.5 | 말 캐릭터 스킨 | ⭐ | 상황별 다른 이모지 (유니콘, 얼룩말 등) |
| TASK-10.6 | 이스터에그 | ⭐⭐ | 숨겨진 재미 요소들 |

### 우선순위 낮음 (대규모 기능)

| Task ID | 제목 | 난이도 | 설명 |
|---------|------|--------|------|
| TASK-10.7 | 주행 업적 시스템 | ⭐⭐⭐ | 뱃지, 업적 달성, 통계 |
| TASK-10.8 | 친구 대결 모드 | ⭐⭐⭐⭐ | 실시간 요금 대결 (미래) |

---

## Task 상세

### TASK-10.1: N빵 계산기

**목표:** 승객 수를 설정하면 1인당 금액 자동 계산

**구현 내용:**
```
- 승객 수 선택 UI (2~6명)
- 총 요금 ÷ 승객 수 = 1인당 금액
- 영수증에 N빵 금액 표시
- 소수점 올림 처리 (공평하게!)
```

**예시:**
```
총 요금: 12,400원
승객: 3명
1인당: 4,134원 (올림)
```

**구현 위치:**
- MainMeterView: 승객 수 설정 버튼
- ReceiptView: N빵 금액 표시
- MeterViewModel: passengerCount 상태 추가

---

### TASK-10.2: 택시기사 한마디

**목표:** 랜덤하게 재미있는 택시기사 멘트 표시

**구현 내용:**
```swift
let driverQuotes = [
    "요즘 기름값이 많이 올랐어요...",
    "손님, 어디서 오셨어요?",
    "이 길이 더 빨라요~ (할증)",
    "손님 덕분에 오늘 매출 좋네요!",
    "에어컨 켜드릴까요?",
    "음악 바꿔드릴까요?",
    "손님, 혹시 급하세요?",
    "오늘 날씨 좋네요~",
    "이 시간에 여기 막히죠...",
    "손님, 카드 되세요?",
]
```

**표시 조건:**
- 미터기 시작 시 랜덤 1개
- 1분마다 랜덤 변경 (선택)
- 영수증 하단에 한마디 추가

**구현 위치:**
- TripInfoView 또는 별도 뷰
- DisclaimerText.swift에 문구 추가

---

### TASK-10.3: 카카오톡/SNS 공유

**목표:** 영수증을 카카오톡이나 SNS에 쉽게 공유

**구현 내용:**
```
[호구미터 영수증] 🐴
━━━━━━━━━━━━━━━
💰 요금: 15,400원
📍 거리: 8.2km
⏱️ 시간: 23분 15초
━━━━━━━━━━━━━━━
"내 차 탔으면 내놔!"

🔗 호구미터 앱 다운로드
```

**구현 방식:**
- UIActivityViewController 사용
- 영수증 이미지 + 텍스트 공유
- 앱스토어 링크 포함

---

### TASK-10.4: 말 음성 효과

**목표:** 상황별로 재미있는 말 음성 재생

**구현 내용:**
| 상황 | 음성 (TTS) |
|------|-----------|
| 출발 | "히힝~! 출발합니다~" |
| 급가속 (80km/h+) | "히이이잉!!!" |
| 정차 3초+ | "쿨쿨..." |
| 100km/h 돌파 | "우주로 갑니다!" |
| 정지 | "수고하셨습니다~" |

**구현 방식:**
- AVSpeechSynthesizer (iOS TTS)
- 음성 ON/OFF 설정 추가
- 속도/피치 조절로 재미있는 음성

---

### TASK-10.5: 말 캐릭터 스킨

**목표:** 상황에 따라 다른 말 이모지 표시

**구현 내용:**
| 상황 | 이모지 | 설명 |
|------|--------|------|
| 기본 | 🐴 | 일반 주행 |
| 고속 (80km/h+) | 🏇 | 경주마 |
| 초고속 (100km/h+) | 🦄 | 유니콘 |
| 정차 | 🫏 | 당나귀 (졸림) |
| 심야 할증 | 🦓 | 얼룩말 (야행성) |
| 지역 변경 | 🎠 | 회전목마 |

**구현 위치:**
- HorseSpeed.swift에 이모지 매핑 추가
- HorseCharacterView 수정

---

### TASK-10.6: 이스터에그

**목표:** 특정 조건에서 숨겨진 재미 요소 발동

**구현 내용:**
| 조건 | 이벤트 |
|------|--------|
| 속도 88km/h 5초 유지 | "백 투 더 퓨처!" + 번개 효과 |
| 요금 12,345원 | 무지개 효과 |
| 심야 00:00 정각 출발 | "신데렐라 모드" + 호박마차 |
| 거리 42.195km | "마라톤 완주!" 축하 |
| 요금 4,444원 | "행운의 숫자!" |
| 100번째 주행 | "단골 호구 인증!" |

**구현 방식:**
- EasterEggManager 서비스 생성
- 조건 체크 후 특수 효과 발동
- 업적과 연동 가능

---

### TASK-10.7: 주행 업적 시스템

**목표:** 다양한 업적 달성으로 재미와 동기 부여

**구현 내용:**
| 업적 | 조건 | 뱃지 |
|------|------|------|
| 호구 입문 | 첫 주행 완료 | 🎉 |
| 호구 마스터 | 총 요금 100만원 | 🏆 |
| 광속 호구 | 100km/h 이상 주행 | 🚀 |
| 거북이 호구 | 1시간 동안 10km 미만 | 🐢 |
| 올빼미 호구 | 심야 할증 10회 | 🦉 |
| 여행자 호구 | 총 거리 1,000km | 🌍 |
| 부자 호구 | 단일 요금 10만원 | 💎 |
| 단골 호구 | 100회 주행 | ⭐ |

**구현 내용:**
- Achievement 엔티티
- AchievementManager 서비스
- 업적 목록 뷰
- 업적 달성 알림

---

### TASK-10.8: 친구 대결 모드 (미래)

**목표:** 친구와 실시간으로 요금 대결

**구현 내용:**
```
"누가 더 비싼 요금을 만들까?"
- 방 생성 및 참가
- 실시간 요금 동기화
- 최종 승자 발표
- 패자가 커피 사기!
```

**기술 요구사항:**
- Firebase Realtime Database 또는 CloudKit
- 실시간 동기화
- 푸시 알림

**복잡도:** 높음 (서버 연동 필요)

---

## 구현 순서 추천

```
Phase 1: 빠른 재미 (1-2일)
├── TASK-10.1: N빵 계산기
├── TASK-10.2: 택시기사 한마디
└── TASK-10.5: 말 캐릭터 스킨

Phase 2: 공유 기능 (1일)
└── TASK-10.3: 카카오톡/SNS 공유

Phase 3: 음성 & 이스터에그 (2-3일)
├── TASK-10.4: 말 음성 효과
└── TASK-10.6: 이스터에그

Phase 4: 대규모 기능 (1주+)
├── TASK-10.7: 주행 업적 시스템
└── TASK-10.8: 친구 대결 모드 (미래)
```

---

## 참고 자료

- [AVSpeechSynthesizer](https://developer.apple.com/documentation/avfaudio/avspeechsynthesizer)
- [UIActivityViewController](https://developer.apple.com/documentation/uikit/uiactivityviewcontroller)
- [Firebase Realtime Database](https://firebase.google.com/docs/database)
